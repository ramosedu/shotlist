<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Material Design for Bootstrap</title>
  <!-- MDB icon -->
  <link rel="icon" href="img/mdb-favicon.ico" type="image/x-icon">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
  <!-- Google Fonts Roboto -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <!-- Material Design Bootstrap -->
  <link rel="stylesheet" href="css/mdb.min.css">
  <!-- Your custom styles (optional) -->
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
<div class="container ">
  <!-- Start your project here-->  
  <!-- Editable table -->
  <div class="row">
    
  
  <div class="col-md-2 side-menu">
    <h2>Options</h2>
    <button class="btn btn-success" id="addNewScene">Add New Scene</button>
  </div>

  <div class="col-md-10 app">

  </div>
</div>


</div>

<!-- Editable table -->
  <!-- End your project here-->

  <!-- jQuery -->
  <script type="text/javascript" src="js/jquery.min.js"></script>
  <!-- Bootstrap tooltips -->
  <script type="text/javascript" src="js/popper.min.js"></script>
  <!-- Bootstrap core JavaScript -->
  <script type="text/javascript" src="js/bootstrap.min.js"></script>
  <!-- MDB core JavaScript -->
  <script type="text/javascript" src="js/mdb.min.js"></script>
  <!-- Your custom scripts (optional) -->
  <script type="text/javascript"></script>




<script>

const $APP = $('.app');
var tableCounter = 1;

$(document).ready( function() {   
  addNewScene();
  $('.app').on('click', 'i', (e) => {
  var sceneID = e.target.getAttribute("data-table-add");

  var $tableID = $(`#table${sceneID}`);
  console.log(sceneID);
  console.log($tableID);

   const $clone = $tableID.find('tbody tr').last().clone(true).removeClass('hide table-line');

   if ($tableID.find('tbody tr').length === 0) {

     $tableID.find('tbody').append(newTr);
   }

   $tableID.find('table').append($clone);
 });

$('.app').on('click', 'button', (e) =>{
  var sceneID = e.target.getAttribute("data-table-remove");
  var $tableID = $(`#table${sceneID}`);

  console.log(sceneID);
  console.log($tableID);

  $tableID.on('click', '.table-remove', function () {

$(this).parents('tr').detach();
});
})

$('.side-menu').on('click', '#addNewScene', () => {
  addNewScene();
});


});



function addNewScene() {  
  var tablehtml = `<div class="card">
    <h3 class="card-header text-center font-weight-bold text-uppercase py-4">Scene ${tableCounter}</h3>
    <div class="card-body">
      <div id="table${tableCounter}" class="table-editable">
        <span class="table-add float-right mb-3 mr-2"><a href="#!" class="text-success"><i
              class="fas fa-plus fa-2x" data-table-add=${tableCounter} aria-hidden="true"></i></a></span>
        <table class="table table-bordered table-responsive-md table-striped text-center">
          <thead>
            <tr>
              <th class="text-center">Shot #</th>
              <th class="text-center">Location</th>
              <th class="text-center">Shot Description</th>
              <th class="text-center">Framing</th>
              <th class="text-center">Sort</th>
              <th class="text-center">Remove</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="pt-3-half" contenteditable="true">A</td>
              <td class="pt-3-half" contenteditable="true">SOUND STAGE</td>
              <td class="pt-3-half" contenteditable="true">boy - eyes closed, opens, looks directly at camera</td>
              <td class="pt-3-half" contenteditable="false"><label for="cars">Choose:</label>
<select id="cars" name="cars">
  <option value="medium close up">med-CU</option>
  <option value="wide">wide</option>
  <option value="medium wide">med-wide</option>
  <option value="wide 2 shot">wide, 2 shot</option>
  <option value="close up">CU</option>
  <option value="low close up over note">low CU over note</option>
  <option value="wide silhouette">wide-silhouette</option>
</select>
              <td class="pt-3-half">
                <span class="table-up"><a href="#!" class="indigo-text"><i class="fas fa-long-arrow-alt-up"
                      aria-hidden="true"></i></a></span>
                <span class="table-down"><a href="#!" class="indigo-text"><i class="fas fa-long-arrow-alt-down"
                      aria-hidden="true"></i></a></span>
              </td>
              <td>
                <span class="table-remove"><button type="button"
                    class="btn btn-danger btn-rounded btn-sm my-0" data-table-remove=${tableCounter}>Remove</button></span>
              </td>
            </tr>
          
          </tbody>
        </table>
      </div>
    </div>
  </div>`;
    tableCounter += 1

$APP.append(tablehtml);
}


 const newTr = `
<tr class="hide">
  <td class="pt-3-half" contenteditable="true">A</td>
  <td class="pt-3-half" contenteditable="true">Example</td>
  <td class="pt-3-half" contenteditable="true">Example</td>
  <td class="pt-3-half" contenteditable="false"><label for="cars">Choose:</label>
<select id="cars" name="cars">
  <option value="medium close up">med-CU</option>
  <option value="wide">wide</option>
  <option value="medium wide">med-wide</option>
  <option value="wide 2 shot">wide, 2 shot</option>
  <option value="close up">CU</option>
  <option value="low close up over note">low CU over note</option>
  <option value="wide silhouette">wide-silhouette</option>
</select></td>

  <td class="pt-3-half">
    <span class="table-up"><a href="#!" class="indigo-text"><i class="fas fa-long-arrow-alt-up" aria-hidden="true"></i></a></span>
    <span class="table-down"><a href="#!" class="indigo-text"><i class="fas fa-long-arrow-alt-down" aria-hidden="true"></i></a></span>
  </td>
  <td>
    <span class="table-remove"><button type="button" class="btn btn-danger btn-rounded btn-sm my-0 waves-effect waves-light">Remove</button></span>
  </td>
</tr>`;









</script>


</body>
</html>
